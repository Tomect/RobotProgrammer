   1               		.file	"drive.c"
   2               		.arch atmega168
   3               	__SREG__ = 0x3f
   4               	__SP_H__ = 0x3e
   5               	__SP_L__ = 0x3d
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  17               	.Ltext0:
  18               	.global	interuptEvent
  19               	.global	interuptEvent
  20               		.section .bss
  23               	interuptEvent:
  24 0000 00        		.skip 1,0
  25               	.global	turning
  26               	.global	turning
  29               	turning:
  30 0001 00        		.skip 1,0
  31               	.global	speed
  32               	.global	speed
  35               	speed:
  36 0002 0000      		.skip 2,0
  37               	.global	drive_distance
  38               	.global	drive_distance
  41               	drive_distance:
  42 0004 0000      		.skip 2,0
  43               	.global	turn_direction
  44               	.global	turn_direction
  47               	turn_direction:
  48 0006 0000      		.skip 2,0
  49               	.global	turn_angle
  50               	.global	turn_angle
  53               	turn_angle:
  54 0008 0000      		.skip 2,0
  55               	.global	command
  56               	.global	command
  59               	command:
  60 000a 0000      		.skip 2,0
  61               	.global	angle
  62               	.global	angle
  65               	angle:
  66 000c 0000      		.skip 2,0
  67               	.global	distance
  68               	.global	distance
  71               	distance:
  72 000e 0000      		.skip 2,0
  73               	.global	sensors_index
  74               	.global	sensors_index
  77               	sensors_index:
  78 0010 00        		.skip 1,0
  79               	.global	sensors_flag
  80               	.global	sensors_flag
  83               	sensors_flag:
  84 0011 00        		.skip 1,0
  85               	.global	timer_on
  86               	.global	timer_on
  89               	timer_on:
  90 0012 00        		.skip 1,0
  91               	.global	timer_cnt
  92               	.global	timer_cnt
  95               	timer_cnt:
  96 0013 0000      		.skip 2,0
  97               		.text
  98               	.global	Commands
 100               	Commands:
 101               	.LFB14:
 102               	.LM1:
 103               	/* prologue: frame size=0 */
 104               	/* prologue end (size=0) */
 105               	.LM2:
 106 0000 8091 0000 		lds r24,command
 107 0004 9091 0000 		lds r25,(command)+1
 108 0008 8330      		cpi r24,3
 109 000a 9105      		cpc r25,__zero_reg__
 110 000c C1F1      		breq .L10
 111               	.LM3:
 112 000e 8430      		cpi r24,4
 113 0010 9105      		cpc r25,__zero_reg__
 114 0012 4CF4      		brge .L12
 115 0014 8130      		cpi r24,1
 116 0016 9105      		cpc r25,__zero_reg__
 117 0018 91F1      		breq .L10
 118 001a 8230      		cpi r24,2
 119 001c 9105      		cpc r25,__zero_reg__
 120 001e C4F4      		brge .L5
 121 0020 0097      		sbiw r24,0
 122 0022 69F0      		breq .L3
 123 0024 44C0      		rjmp .L11
 124               	.L12:
 125 0026 8530      		cpi r24,5
 126 0028 9105      		cpc r25,__zero_reg__
 127 002a 49F1      		breq .L10
 128 002c 8530      		cpi r24,5
 129 002e 9105      		cpc r25,__zero_reg__
 130 0030 7CF0      		brlt .L5
 131 0032 8630      		cpi r24,6
 132 0034 9105      		cpc r25,__zero_reg__
 133 0036 61F0      		breq .L5
 134 0038 0797      		sbiw r24,7
 135 003a 09F1      		breq .L10
 136 003c 38C0      		rjmp .L11
 137               	.L3:
 138               	.LM4:
 139 003e 9093 0000 		sts (turn_angle)+1,r25
 140 0042 8093 0000 		sts turn_angle,r24
 141               	.LM5:
 142 0046 9093 0000 		sts (turn_direction)+1,r25
 143 004a 8093 0000 		sts turn_direction,r24
 144 004e 08C0      		rjmp .L13
 145               	.L5:
 146               	.LM6:
 147 0050 1092 0000 		sts (turn_angle)+1,__zero_reg__
 148 0054 1092 0000 		sts turn_angle,__zero_reg__
 149               	.LM7:
 150 0058 1092 0000 		sts (turn_direction)+1,__zero_reg__
 151 005c 1092 0000 		sts turn_direction,__zero_reg__
 152               	.L13:
 153               	.LM8:
 154 0060 84E6      		ldi r24,lo8(100)
 155 0062 90E0      		ldi r25,hi8(100)
 156 0064 9093 0000 		sts (drive_distance)+1,r25
 157 0068 8093 0000 		sts drive_distance,r24
 158               	.LM9:
 159 006c 88E3      		ldi r24,lo8(-200)
 160 006e 9FEF      		ldi r25,hi8(-200)
 161 0070 9093 0000 		sts (speed)+1,r25
 162 0074 8093 0000 		sts speed,r24
 163               	.LM10:
 164 0078 1092 0000 		sts turning,__zero_reg__
 165               	.LM11:
 166 007c 0895      		ret
 167               	.L10:
 168               	.LM12:
 169 007e 8AE5      		ldi r24,lo8(90)
 170 0080 90E0      		ldi r25,hi8(90)
 171 0082 9093 0000 		sts (turn_angle)+1,r25
 172 0086 8093 0000 		sts turn_angle,r24
 173               	.LM13:
 174 008a 8FEF      		ldi r24,lo8(-1)
 175 008c 9FEF      		ldi r25,hi8(-1)
 176 008e 9093 0000 		sts (turn_direction)+1,r25
 177 0092 8093 0000 		sts turn_direction,r24
 178               	.LM14:
 179 0096 1092 0000 		sts (drive_distance)+1,__zero_reg__
 180 009a 1092 0000 		sts drive_distance,__zero_reg__
 181               	.LM15:
 182 009e 1092 0000 		sts (speed)+1,__zero_reg__
 183 00a2 1092 0000 		sts speed,__zero_reg__
 184               	.LM16:
 185 00a6 81E0      		ldi r24,lo8(1)
 186 00a8 8093 0000 		sts turning,r24
 187               	.LM17:
 188 00ac 0895      		ret
 189               	.L11:
 190               	.LM18:
 191 00ae 8FEF      		ldi r24,lo8(-1)
 192 00b0 9FEF      		ldi r25,hi8(-1)
 193 00b2 9093 0000 		sts (command)+1,r25
 194 00b6 8093 0000 		sts command,r24
 195 00ba 0895      		ret
 196               	/* epilogue: frame size=0 */
 197               	/* epilogue: noreturn */
 198               	/* epilogue end (size=0) */
 199               	/* function Commands size 95 (95) */
 200               	.LFE14:
 202               	.global	__vector_18
 204               	__vector_18:
 205               	.LFB5:
 206               	.LM19:
 207               	/* prologue: frame size=0 */
 208 00bc 1F92      		push __zero_reg__
 209 00be 0F92      		push __tmp_reg__
 210 00c0 0FB6      		in __tmp_reg__,__SREG__
 211 00c2 0F92      		push __tmp_reg__
 212 00c4 1124      		clr __zero_reg__
 213 00c6 8F93      		push r24
 214 00c8 9F93      		push r25
 215 00ca EF93      		push r30
 216 00cc FF93      		push r31
 217               	/* prologue end (size=9) */
 218               	.LM20:
 219 00ce 9091 C600 		lds r25,198
 220               	.LM21:
 221 00d2 8091 0000 		lds r24,sensors_flag
 222 00d6 8823      		tst r24
 223 00d8 81F0      		breq .L14
 224               	.LM22:
 225 00da 8091 0000 		lds r24,sensors_index
 226 00de E82F      		mov r30,r24
 227 00e0 FF27      		clr r31
 228 00e2 E050      		subi r30,lo8(-(sensors_in))
 229 00e4 F040      		sbci r31,hi8(-(sensors_in))
 230 00e6 9083      		st Z,r25
 231 00e8 8F5F      		subi r24,lo8(-(1))
 232 00ea 8093 0000 		sts sensors_index,r24
 233               	.LM23:
 234 00ee 8091 0000 		lds r24,sensors_index
 235 00f2 8433      		cpi r24,lo8(52)
 236 00f4 10F0      		brlo .L14
 237               	.LM24:
 238 00f6 1092 0000 		sts sensors_flag,__zero_reg__
 239               	.L14:
 240               	/* epilogue: frame size=0 */
 241 00fa FF91      		pop r31
 242 00fc EF91      		pop r30
 243 00fe 9F91      		pop r25
 244 0100 8F91      		pop r24
 245 0102 0F90      		pop __tmp_reg__
 246 0104 0FBE      		out __SREG__,__tmp_reg__
 247 0106 0F90      		pop __tmp_reg__
 248 0108 1F90      		pop __zero_reg__
 249 010a 1895      		reti
 250               	/* epilogue end (size=9) */
 251               	/* function __vector_18 size 40 (22) */
 252               	.LFE5:
 254               	.global	__vector_11
 256               	__vector_11:
 257               	.LFB6:
 258               	.LM25:
 259               	/* prologue: frame size=0 */
 260 010c 1F92      		push __zero_reg__
 261 010e 0F92      		push __tmp_reg__
 262 0110 0FB6      		in __tmp_reg__,__SREG__
 263 0112 0F92      		push __tmp_reg__
 264 0114 1124      		clr __zero_reg__
 265 0116 8F93      		push r24
 266 0118 9F93      		push r25
 267               	/* prologue end (size=7) */
 268               	.LM26:
 269 011a 8091 0000 		lds r24,timer_cnt
 270 011e 9091 0000 		lds r25,(timer_cnt)+1
 271 0122 892B      		or r24,r25
 272 0124 51F0      		breq .L18
 273               	.LM27:
 274 0126 8091 0000 		lds r24,timer_cnt
 275 012a 9091 0000 		lds r25,(timer_cnt)+1
 276 012e 0197      		sbiw r24,1
 277 0130 9093 0000 		sts (timer_cnt)+1,r25
 278 0134 8093 0000 		sts timer_cnt,r24
 279 0138 02C0      		rjmp .L17
 280               	.L18:
 281               	.LM28:
 282 013a 1092 0000 		sts timer_on,__zero_reg__
 283               	.L17:
 284               	/* epilogue: frame size=0 */
 285 013e 9F91      		pop r25
 286 0140 8F91      		pop r24
 287 0142 0F90      		pop __tmp_reg__
 288 0144 0FBE      		out __SREG__,__tmp_reg__
 289 0146 0F90      		pop __tmp_reg__
 290 0148 1F90      		pop __zero_reg__
 291 014a 1895      		reti
 292               	/* epilogue end (size=7) */
 293               	/* function __vector_11 size 32 (18) */
 294               	.LFE6:
 296               	.global	ByteTx
 298               	ByteTx:
 299               	.LFB7:
 300               	.LM29:
 301               	/* prologue: frame size=0 */
 302               	/* prologue end (size=0) */
 303 014c 982F      		mov r25,r24
 304               	.L21:
 305               	.LM30:
 306 014e 8091 C000 		lds r24,192
 307 0152 85FF      		sbrs r24,5
 308 0154 FCCF      		rjmp .L21
 309               	.LM31:
 310 0156 9093 C600 		sts 198,r25
 311               	/* epilogue: frame size=0 */
 312 015a 0895      		ret
 313               	/* epilogue end (size=1) */
 314               	/* function ByteTx size 8 (7) */
 315               	.LFE7:
 317               	.global	Stop
 319               	Stop:
 320               	.LFB15:
 321               	.LM32:
 322               	/* prologue: frame size=0 */
 323               	/* prologue end (size=0) */
 324               	.LM33:
 325 015c 89E8      		ldi r24,lo8(-119)
 326 015e 0E94 0000 		call ByteTx
 327               	.LM34:
 328 0162 80E0      		ldi r24,lo8(0)
 329 0164 0E94 0000 		call ByteTx
 330               	.LM35:
 331 0168 80E0      		ldi r24,lo8(0)
 332 016a 0E94 0000 		call ByteTx
 333               	.LM36:
 334 016e 80E8      		ldi r24,lo8(-128)
 335 0170 0E94 0000 		call ByteTx
 336               	.LM37:
 337 0174 80E0      		ldi r24,lo8(0)
 338 0176 0E94 0000 		call ByteTx
 339               	/* epilogue: frame size=0 */
 340 017a 0895      		ret
 341               	/* epilogue end (size=1) */
 342               	/* function Stop size 16 (15) */
 343               	.LFE15:
 345               	.global	DelayAndUpdateSensors
 347               	DelayAndUpdateSensors:
 348               	.LFB9:
 349               	.LM38:
 350               	/* prologue: frame size=0 */
 351               	/* prologue end (size=0) */
 352               	.LM39:
 353 017c 21E0      		ldi r18,lo8(1)
 354 017e 2093 0000 		sts timer_on,r18
 355               	.LM40:
 356 0182 9093 0000 		sts (timer_cnt)+1,r25
 357 0186 8093 0000 		sts timer_cnt,r24
 358               	.L39:
 359               	.LM41:
 360 018a 8091 0000 		lds r24,timer_on
 361 018e 8823      		tst r24
 362 0190 09F4      		brne .+2
 363 0192 42C0      		rjmp .L35
 364               	.LM42:
 365 0194 8091 0000 		lds r24,sensors_flag
 366 0198 8823      		tst r24
 367 019a B9F7      		brne .L39
 368 019c A0E0      		ldi r26,lo8(sensors_in)
 369 019e B0E0      		ldi r27,hi8(sensors_in)
 370 01a0 E0E0      		ldi r30,lo8(sensors)
 371 01a2 F0E0      		ldi r31,hi8(sensors)
 372 01a4 93E3      		ldi r25,lo8(51)
 373               	.L32:
 374               	.LM43:
 375 01a6 8D91      		ld r24,X+
 376 01a8 8193      		st Z+,r24
 377               	.LM44:
 378 01aa 9150      		subi r25,lo8(-(-1))
 379 01ac 97FF      		sbrs r25,7
 380 01ae FBCF      		rjmp .L32
 381               	.LM45:
 382 01b0 8091 0000 		lds r24,sensors+12
 383 01b4 9927      		clr r25
 384 01b6 382F      		mov r19,r24
 385 01b8 2227      		clr r18
 386 01ba 8091 0000 		lds r24,sensors+13
 387 01be 9927      		clr r25
 388 01c0 282B      		or r18,r24
 389 01c2 392B      		or r19,r25
 390 01c4 8091 0000 		lds r24,distance
 391 01c8 9091 0000 		lds r25,(distance)+1
 392 01cc 820F      		add r24,r18
 393 01ce 931F      		adc r25,r19
 394 01d0 9093 0000 		sts (distance)+1,r25
 395 01d4 8093 0000 		sts distance,r24
 396               	.LM46:
 397 01d8 8091 0000 		lds r24,sensors+14
 398 01dc 9927      		clr r25
 399 01de 382F      		mov r19,r24
 400 01e0 2227      		clr r18
 401 01e2 8091 0000 		lds r24,sensors+15
 402 01e6 9927      		clr r25
 403 01e8 282B      		or r18,r24
 404 01ea 392B      		or r19,r25
 405 01ec 8091 0000 		lds r24,angle
 406 01f0 9091 0000 		lds r25,(angle)+1
 407 01f4 820F      		add r24,r18
 408 01f6 931F      		adc r25,r19
 409 01f8 9093 0000 		sts (angle)+1,r25
 410 01fc 8093 0000 		sts angle,r24
 411               	.LM47:
 412 0200 8EE8      		ldi r24,lo8(-114)
 413 0202 0E94 0000 		call ByteTx
 414               	.LM48:
 415 0206 86E0      		ldi r24,lo8(6)
 416 0208 0E94 0000 		call ByteTx
 417               	.LM49:
 418 020c 1092 0000 		sts sensors_index,__zero_reg__
 419               	.LM50:
 420 0210 81E0      		ldi r24,lo8(1)
 421 0212 8093 0000 		sts sensors_flag,r24
 422 0216 B9CF      		rjmp .L39
 423               	.L35:
 424 0218 0895      		ret
 425               	/* epilogue: frame size=0 */
 426               	/* epilogue: noreturn */
 427               	/* epilogue end (size=0) */
 428               	/* function DelayAndUpdateSensors size 79 (79) */
 429               	.LFE9:
 431               	.global	DelayMs
 433               	DelayMs:
 434               	.LFB8:
 435               	.LM51:
 436               	/* prologue: frame size=0 */
 437               	/* prologue end (size=0) */
 438 021a 9C01      		movw r18,r24
 439               	.LM52:
 440 021c 81E0      		ldi r24,lo8(1)
 441 021e 8093 0000 		sts timer_on,r24
 442               	.LM53:
 443 0222 3093 0000 		sts (timer_cnt)+1,r19
 444 0226 2093 0000 		sts timer_cnt,r18
 445               	.L41:
 446               	.LM54:
 447 022a 8091 0000 		lds r24,timer_on
 448 022e 8823      		tst r24
 449 0230 E1F7      		brne .L41
 450               	/* epilogue: frame size=0 */
 451 0232 0895      		ret
 452               	/* epilogue end (size=1) */
 453               	/* function DelayMs size 13 (12) */
 454               	.LFE8:
 456               	.global	PowerOnRobot
 458               	PowerOnRobot:
 459               	.LFB11:
 460               	.LM55:
 461               	/* prologue: frame size=0 */
 462               	/* prologue end (size=0) */
 463               	.LM56:
 464 0234 1D99      		sbic 35-0x20,5
 465 0236 13C0      		rjmp .L44
 466               	.LM57:
 467 0238 1D99      		sbic 35-0x20,5
 468 023a 0DC0      		rjmp .L50
 469               	.L48:
 470               	.LM58:
 471 023c 5F98      		cbi 43-0x20,7
 472               	.LM59:
 473 023e 84EF      		ldi r24,lo8(500)
 474 0240 91E0      		ldi r25,hi8(500)
 475 0242 0E94 0000 		call DelayMs
 476               	.LM60:
 477 0246 5F9A      		sbi 43-0x20,7
 478               	.LM61:
 479 0248 84E6      		ldi r24,lo8(100)
 480 024a 90E0      		ldi r25,hi8(100)
 481 024c 0E94 0000 		call DelayMs
 482               	.LM62:
 483 0250 5F98      		cbi 43-0x20,7
 484 0252 1D9B      		sbis 35-0x20,5
 485 0254 F3CF      		rjmp .L48
 486               	.L50:
 487               	.LM63:
 488 0256 8CEA      		ldi r24,lo8(3500)
 489 0258 9DE0      		ldi r25,hi8(3500)
 490 025a 0E94 0000 		call DelayMs
 491               	.L44:
 492 025e 0895      		ret
 493               	/* epilogue: frame size=0 */
 494               	/* epilogue: noreturn */
 495               	/* epilogue end (size=0) */
 496               	/* function PowerOnRobot size 22 (22) */
 497               	.LFE11:
 499               	.global	Baud
 501               	Baud:
 502               	.LFB12:
 503               	.LM64:
 504               	/* prologue: frame size=0 */
 505 0260 CF93      		push r28
 506               	/* prologue end (size=1) */
 507 0262 C82F      		mov r28,r24
 508               	.LM65:
 509 0264 8C30      		cpi r24,lo8(12)
 510 0266 08F0      		brlo .+2
 511 0268 54C0      		rjmp .L51
 512               	.LM66:
 513 026a 81E8      		ldi r24,lo8(-127)
 514 026c 0E94 0000 		call ByteTx
 515               	.LM67:
 516 0270 8091 C000 		lds r24,192
 517 0274 8064      		ori r24,lo8(64)
 518 0276 8093 C000 		sts 192,r24
 519               	.LM68:
 520 027a 8C2F      		mov r24,r28
 521 027c 0E94 0000 		call ByteTx
 522               	.L53:
 523               	.LM69:
 524 0280 8091 C000 		lds r24,192
 525 0284 86FF      		sbrs r24,6
 526 0286 FCCF      		rjmp .L53
 527               	.LM70:
 528               	/* #APP */
 529 0288 F894      		cli
 530               	.LM71:
 531               	/* #NOAPP */
 532 028a CB30      		cpi r28,lo8(11)
 533 028c 19F4      		brne .L56
 534               	.LM72:
 535 028e 89E0      		ldi r24,lo8(9)
 536 0290 90E0      		ldi r25,hi8(9)
 537 0292 36C0      		rjmp .L79
 538               	.L56:
 539               	.LM73:
 540 0294 CA30      		cpi r28,lo8(10)
 541 0296 19F4      		brne .L58
 542               	.LM74:
 543 0298 83E1      		ldi r24,lo8(19)
 544 029a 90E0      		ldi r25,hi8(19)
 545 029c 31C0      		rjmp .L79
 546               	.L58:
 547               	.LM75:
 548 029e C930      		cpi r28,lo8(9)
 549 02a0 19F4      		brne .L60
 550               	.LM76:
 551 02a2 8DE1      		ldi r24,lo8(29)
 552 02a4 90E0      		ldi r25,hi8(29)
 553 02a6 2CC0      		rjmp .L79
 554               	.L60:
 555               	.LM77:
 556 02a8 C830      		cpi r28,lo8(8)
 557 02aa 19F4      		brne .L62
 558               	.LM78:
 559 02ac 87E2      		ldi r24,lo8(39)
 560 02ae 90E0      		ldi r25,hi8(39)
 561 02b0 27C0      		rjmp .L79
 562               	.L62:
 563               	.LM79:
 564 02b2 C730      		cpi r28,lo8(7)
 565 02b4 19F4      		brne .L64
 566               	.LM80:
 567 02b6 8BE3      		ldi r24,lo8(59)
 568 02b8 90E0      		ldi r25,hi8(59)
 569 02ba 22C0      		rjmp .L79
 570               	.L64:
 571               	.LM81:
 572 02bc C630      		cpi r28,lo8(6)
 573 02be 19F4      		brne .L66
 574               	.LM82:
 575 02c0 8FE4      		ldi r24,lo8(79)
 576 02c2 90E0      		ldi r25,hi8(79)
 577 02c4 1DC0      		rjmp .L79
 578               	.L66:
 579               	.LM83:
 580 02c6 C530      		cpi r28,lo8(5)
 581 02c8 19F4      		brne .L68
 582               	.LM84:
 583 02ca 87E7      		ldi r24,lo8(119)
 584 02cc 90E0      		ldi r25,hi8(119)
 585 02ce 18C0      		rjmp .L79
 586               	.L68:
 587               	.LM85:
 588 02d0 C430      		cpi r28,lo8(4)
 589 02d2 19F4      		brne .L70
 590               	.LM86:
 591 02d4 8FEE      		ldi r24,lo8(239)
 592 02d6 90E0      		ldi r25,hi8(239)
 593 02d8 13C0      		rjmp .L79
 594               	.L70:
 595               	.LM87:
 596 02da C330      		cpi r28,lo8(3)
 597 02dc 19F4      		brne .L72
 598               	.LM88:
 599 02de 8FED      		ldi r24,lo8(479)
 600 02e0 91E0      		ldi r25,hi8(479)
 601 02e2 0EC0      		rjmp .L79
 602               	.L72:
 603               	.LM89:
 604 02e4 C230      		cpi r28,lo8(2)
 605 02e6 19F4      		brne .L74
 606               	.LM90:
 607 02e8 8FEB      		ldi r24,lo8(959)
 608 02ea 93E0      		ldi r25,hi8(959)
 609 02ec 09C0      		rjmp .L79
 610               	.L74:
 611               	.LM91:
 612 02ee C130      		cpi r28,lo8(1)
 613 02f0 19F4      		brne .L76
 614               	.LM92:
 615 02f2 8FE7      		ldi r24,lo8(1919)
 616 02f4 97E0      		ldi r25,hi8(1919)
 617 02f6 04C0      		rjmp .L79
 618               	.L76:
 619               	.LM93:
 620 02f8 CC23      		tst r28
 621 02fa 31F4      		brne .L57
 622               	.LM94:
 623 02fc 8FEF      		ldi r24,lo8(3839)
 624 02fe 9EE0      		ldi r25,hi8(3839)
 625               	.L79:
 626 0300 9093 C500 		sts (196)+1,r25
 627 0304 8093 C400 		sts 196,r24
 628               	.L57:
 629               	.LM95:
 630               	/* #APP */
 631 0308 7894      		sei
 632               	.LM96:
 633               	/* #NOAPP */
 634 030a 84E6      		ldi r24,lo8(100)
 635 030c 90E0      		ldi r25,hi8(100)
 636 030e 0E94 0000 		call DelayMs
 637               	.L51:
 638               	/* epilogue: frame size=0 */
 639 0312 CF91      		pop r28
 640 0314 0895      		ret
 641               	/* epilogue end (size=2) */
 642               	/* function Baud size 93 (90) */
 643               	.LFE12:
 645               	.global	Initialise
 647               	Initialise:
 648               	.LFB10:
 649               	.LM97:
 650               	/* prologue: frame size=0 */
 651               	/* prologue end (size=0) */
 652               	.LM98:
 653               	/* #APP */
 654 0316 F894      		cli
 655               	.LM99:
 656               	/* #NOAPP */
 657 0318 80E1      		ldi r24,lo8(16)
 658 031a 84B9      		out 36-0x20,r24
 659               	.LM100:
 660 031c 8FEC      		ldi r24,lo8(-49)
 661 031e 85B9      		out 37-0x20,r24
 662               	.LM101:
 663 0320 17B8      		out 39-0x20,__zero_reg__
 664               	.LM102:
 665 0322 8FEF      		ldi r24,lo8(-1)
 666 0324 88B9      		out 40-0x20,r24
 667               	.LM103:
 668 0326 86EE      		ldi r24,lo8(-26)
 669 0328 8AB9      		out 42-0x20,r24
 670               	.LM104:
 671 032a 8DE7      		ldi r24,lo8(125)
 672 032c 8BB9      		out 43-0x20,r24
 673               	.LM105:
 674 032e 1092 8000 		sts 128,__zero_reg__
 675               	.LM106:
 676 0332 8CE0      		ldi r24,lo8(12)
 677 0334 8093 8100 		sts 129,r24
 678               	.LM107:
 679 0338 87E4      		ldi r24,lo8(71)
 680 033a 90E0      		ldi r25,hi8(71)
 681 033c 9093 8900 		sts (136)+1,r25
 682 0340 8093 8800 		sts 136,r24
 683               	.LM108:
 684 0344 82E0      		ldi r24,lo8(2)
 685 0346 8093 6F00 		sts 111,r24
 686               	.LM109:
 687 034a 83E1      		ldi r24,lo8(19)
 688 034c 90E0      		ldi r25,hi8(19)
 689 034e 9093 C500 		sts (196)+1,r25
 690 0352 8093 C400 		sts 196,r24
 691               	.LM110:
 692 0356 88E9      		ldi r24,lo8(-104)
 693 0358 8093 C100 		sts 193,r24
 694               	.LM111:
 695 035c 86E0      		ldi r24,lo8(6)
 696 035e 8093 C200 		sts 194,r24
 697               	.LM112:
 698               	/* #APP */
 699 0362 7894      		sei
 700               	.LM113:
 701               	/* #NOAPP */
 702 0364 8BB1      		in r24,43-0x20
 703 0366 8066      		ori r24,lo8(96)
 704 0368 8BB9      		out 43-0x20,r24
 705               	.LM114:
 706 036a 0E94 0000 		call PowerOnRobot
 707               	.LM115:
 708 036e 80E8      		ldi r24,lo8(-128)
 709 0370 0E94 0000 		call ByteTx
 710               	.LM116:
 711 0374 88E0      		ldi r24,lo8(8)
 712 0376 0E94 0000 		call Baud
 713               	.LM117:
 714 037a 82E8      		ldi r24,lo8(-126)
 715 037c 0E94 0000 		call ByteTx
 716               	.LM118:
 717 0380 84E8      		ldi r24,lo8(-124)
 718 0382 0E94 0000 		call ByteTx
 719               	/* epilogue: frame size=0 */
 720 0386 0895      		ret
 721               	/* epilogue end (size=1) */
 722               	/* function Initialise size 59 (58) */
 723               	.LFE10:
 725               	.global	Drive_Wheels
 727               	Drive_Wheels:
 728               	.LFB13:
 729               	.LM119:
 730               	/* prologue: frame size=0 */
 731 0388 EF92      		push r14
 732 038a FF92      		push r15
 733 038c 0F93      		push r16
 734 038e 1F93      		push r17
 735               	/* prologue end (size=4) */
 736 0390 8C01      		movw r16,r24
 737 0392 7B01      		movw r14,r22
 738               	.LM120:
 739 0394 89E8      		ldi r24,lo8(-119)
 740 0396 0E94 0000 		call ByteTx
 741               	.LM121:
 742 039a 812F      		mov r24,r17
 743 039c 9927      		clr r25
 744 039e 87FD      		sbrc r24,7
 745 03a0 9A95      		dec r25
 746 03a2 0E94 0000 		call ByteTx
 747               	.LM122:
 748 03a6 802F      		mov r24,r16
 749 03a8 0E94 0000 		call ByteTx
 750               	.LM123:
 751 03ac 8F2D      		mov r24,r15
 752 03ae 9927      		clr r25
 753 03b0 87FD      		sbrc r24,7
 754 03b2 9A95      		dec r25
 755 03b4 0E94 0000 		call ByteTx
 756               	.LM124:
 757 03b8 8E2D      		mov r24,r14
 758 03ba 0E94 0000 		call ByteTx
 759               	/* epilogue: frame size=0 */
 760 03be 1F91      		pop r17
 761 03c0 0F91      		pop r16
 762 03c2 FF90      		pop r15
 763 03c4 EF90      		pop r14
 764 03c6 0895      		ret
 765               	/* epilogue end (size=5) */
 766               	/* function Drive_Wheels size 32 (23) */
 767               	.LFE13:
 769               	.global	FinishedCommand
 771               	FinishedCommand:
 772               	.LFB16:
 773               	.LM125:
 774               	/* prologue: frame size=0 */
 775               	/* prologue end (size=0) */
 776               	.LM126:
 777 03c8 1092 0000 		sts (turn_angle)+1,__zero_reg__
 778 03cc 1092 0000 		sts turn_angle,__zero_reg__
 779               	.LM127:
 780 03d0 1092 0000 		sts (turn_direction)+1,__zero_reg__
 781 03d4 1092 0000 		sts turn_direction,__zero_reg__
 782               	.LM128:
 783 03d8 1092 0000 		sts (drive_distance)+1,__zero_reg__
 784 03dc 1092 0000 		sts drive_distance,__zero_reg__
 785               	.LM129:
 786 03e0 1092 0000 		sts (speed)+1,__zero_reg__
 787 03e4 1092 0000 		sts speed,__zero_reg__
 788               	.LM130:
 789 03e8 1092 0000 		sts turning,__zero_reg__
 790               	.LM131:
 791 03ec 1092 0000 		sts interuptEvent,__zero_reg__
 792               	.LM132:
 793 03f0 1092 0000 		sts (distance)+1,__zero_reg__
 794 03f4 1092 0000 		sts distance,__zero_reg__
 795               	.LM133:
 796 03f8 1092 0000 		sts (angle)+1,__zero_reg__
 797 03fc 1092 0000 		sts angle,__zero_reg__
 798               	.LM134:
 799 0400 8091 0000 		lds r24,command
 800 0404 9091 0000 		lds r25,(command)+1
 801 0408 0196      		adiw r24,1
 802 040a 9093 0000 		sts (command)+1,r25
 803 040e 8093 0000 		sts command,r24
 804               	.LM135:
 805 0412 0E94 0000 		call Commands
 806               	/* epilogue: frame size=0 */
 807 0416 0895      		ret
 808               	/* epilogue end (size=1) */
 809               	/* function FinishedCommand size 40 (39) */
 810               	.LFE16:
 812               	.global	Drive
 814               	Drive:
 815               	.LFB17:
 816               	.LM136:
 817               	/* prologue: frame size=0 */
 818               	/* prologue end (size=0) */
 819               	.LM137:
 820 0418 8091 0000 		lds r24,turning
 821 041c 8823      		tst r24
 822 041e 71F1      		breq .L84
 823               	.LM138:
 824 0420 8091 0000 		lds r24,turn_direction
 825 0424 9091 0000 		lds r25,(turn_direction)+1
 826 0428 892B      		or r24,r25
 827 042a 81F0      		breq .L85
 828               	.LM139:
 829 042c 2091 0000 		lds r18,angle
 830 0430 3091 0000 		lds r19,(angle)+1
 831 0434 8091 0000 		lds r24,turn_angle
 832 0438 9091 0000 		lds r25,(turn_angle)+1
 833 043c 8217      		cp r24,r18
 834 043e 9307      		cpc r25,r19
 835 0440 14F4      		brge .L86
 836               	.LM140:
 837 0442 0E94 0000 		call FinishedCommand
 838               	.L86:
 839               	.LM141:
 840 0446 61E0      		ldi r22,lo8(1)
 841 0448 70E0      		ldi r23,hi8(1)
 842 044a 13C0      		rjmp .L94
 843               	.L85:
 844               	.LM142:
 845 044c 8091 0000 		lds r24,angle
 846 0450 9091 0000 		lds r25,(angle)+1
 847 0454 2227      		clr r18
 848 0456 3327      		clr r19
 849 0458 281B      		sub r18,r24
 850 045a 390B      		sbc r19,r25
 851 045c 8091 0000 		lds r24,turn_angle
 852 0460 9091 0000 		lds r25,(turn_angle)+1
 853 0464 8217      		cp r24,r18
 854 0466 9307      		cpc r25,r19
 855 0468 14F4      		brge .L88
 856               	.LM143:
 857 046a 0E94 0000 		call FinishedCommand
 858               	.L88:
 859               	.LM144:
 860 046e 6FEF      		ldi r22,lo8(-1)
 861 0470 7FEF      		ldi r23,hi8(-1)
 862               	.L94:
 863 0472 88EC      		ldi r24,lo8(200)
 864 0474 90E0      		ldi r25,hi8(200)
 865               	.L95:
 866 0476 0E94 0000 		call Drive_Wheels
 867 047a 0895      		ret
 868               	.L84:
 869               	.LM145:
 870 047c 8091 0000 		lds r24,speed
 871 0480 9091 0000 		lds r25,(speed)+1
 872 0484 1816      		cp __zero_reg__,r24
 873 0486 1906      		cpc __zero_reg__,r25
 874 0488 2CF4      		brge .L90
 875               	.LM146:
 876 048a 2091 0000 		lds r18,distance
 877 048e 3091 0000 		lds r19,(distance)+1
 878 0492 08C0      		rjmp .L97
 879               	.L90:
 880               	.LM147:
 881 0494 8091 0000 		lds r24,distance
 882 0498 9091 0000 		lds r25,(distance)+1
 883 049c 2227      		clr r18
 884 049e 3327      		clr r19
 885 04a0 281B      		sub r18,r24
 886 04a2 390B      		sbc r19,r25
 887               	.L97:
 888 04a4 8091 0000 		lds r24,drive_distance
 889 04a8 9091 0000 		lds r25,(drive_distance)+1
 890 04ac 8217      		cp r24,r18
 891 04ae 9307      		cpc r25,r19
 892 04b0 14F4      		brge .L93
 893               	.LM148:
 894 04b2 0E94 0000 		call FinishedCommand
 895               	.L93:
 896               	.LM149:
 897 04b6 60E0      		ldi r22,lo8(-32768)
 898 04b8 70E8      		ldi r23,hi8(-32768)
 899 04ba 8091 0000 		lds r24,speed
 900 04be 9091 0000 		lds r25,(speed)+1
 901 04c2 D9CF      		rjmp .L95
 902               	/* epilogue: frame size=0 */
 903               	/* epilogue: noreturn */
 904               	/* epilogue end (size=0) */
 905               	/* function Drive size 86 (86) */
 906               	.LFE17:
 908               	.global	main
 910               	main:
 911               	.LFB4:
 912               	.LM150:
 913               	/* prologue: frame size=0 */
 914 04c4 C0E0      		ldi r28,lo8(__stack - 0)
 915 04c6 D0E0      		ldi r29,hi8(__stack - 0)
 916 04c8 DEBF      		out __SP_H__,r29
 917 04ca CDBF      		out __SP_L__,r28
 918               	/* prologue end (size=4) */
 919               	.LM151:
 920 04cc 0E94 0000 		call Initialise
 921               	.LM152:
 922 04d0 0E94 0000 		call Stop
 923 04d4 C1E0      		ldi r28,lo8(1)
 924 04d6 D0E0      		ldi r29,hi8(1)
 925               	.L102:
 926               	.LBB2:
 927               	.LM153:
 928 04d8 8BB1      		in r24,43-0x20
 929 04da 8F79      		andi r24,lo8(-97)
 930 04dc 8BB9      		out 43-0x20,r24
 931               	.LM154:
 932 04de 84EF      		ldi r24,lo8(500)
 933 04e0 91E0      		ldi r25,hi8(500)
 934 04e2 0E94 0000 		call DelayAndUpdateSensors
 935               	.LM155:
 936 04e6 8BB1      		in r24,43-0x20
 937 04e8 8066      		ori r24,lo8(96)
 938 04ea 8BB9      		out 43-0x20,r24
 939               	.LM156:
 940 04ec 84EF      		ldi r24,lo8(500)
 941 04ee 91E0      		ldi r25,hi8(500)
 942 04f0 0E94 0000 		call DelayAndUpdateSensors
 943               	.LM157:
 944 04f4 2197      		sbiw r28,1
 945 04f6 D7FF      		sbrs r29,7
 946 04f8 EFCF      		rjmp .L102
 947               	.LBE2:
 948               	.LM158:
 949 04fa 84EF      		ldi r24,lo8(500)
 950 04fc 91E0      		ldi r25,hi8(500)
 951 04fe 0E94 0000 		call DelayAndUpdateSensors
 952               	.LM159:
 953 0502 0E94 0000 		call Commands
 954               	.LM160:
 955 0506 06C0      		rjmp .L103
 956               	.L105:
 957               	.LM161:
 958 0508 0E94 0000 		call Drive
 959               	.LM162:
 960 050c 84E1      		ldi r24,lo8(20)
 961 050e 90E0      		ldi r25,hi8(20)
 962 0510 0E94 0000 		call DelayAndUpdateSensors
 963               	.L103:
 964 0514 4C9B      		sbis 41-0x20,4
 965 0516 1AC0      		rjmp .L104
 966 0518 8091 0000 		lds r24,sensors+2
 967 051c 8823      		tst r24
 968 051e B1F4      		brne .L104
 969 0520 8091 0000 		lds r24,sensors+3
 970 0524 8823      		tst r24
 971 0526 91F4      		brne .L104
 972 0528 8091 0000 		lds r24,sensors+4
 973 052c 8823      		tst r24
 974 052e 71F4      		brne .L104
 975 0530 8091 0000 		lds r24,sensors+5
 976 0534 8823      		tst r24
 977 0536 51F4      		brne .L104
 978 0538 8091 0000 		lds r24,sensors+39
 979 053c 8823      		tst r24
 980 053e 31F4      		brne .L104
 981 0540 8091 0000 		lds r24,command
 982 0544 9091 0000 		lds r25,(command)+1
 983 0548 9923      		tst r25
 984 054a F4F6      		brge .L105
 985               	.L104:
 986               	.LM163:
 987 054c 0E94 0000 		call Stop
 988               	.LM164:
 989 0550 80E0      		ldi r24,lo8(0)
 990 0552 90E0      		ldi r25,hi8(0)
 991               	/* epilogue: frame size=0 */
 992 0554 0C94 0000 		jmp exit
 993               	/* epilogue end (size=2) */
 994               	/* function main size 75 (69) */
 995               	.LFE4:
 997               		.comm sensors_in,52,1
 998               		.comm sensors,52,1
 999               	.Letext0:
DEFINED SYMBOLS
                            *ABS*:00000000 drive.c
C:\Users\Tom\AppData\Local\Temp/cc6hbaaa.s:3      *ABS*:0000003f __SREG__
C:\Users\Tom\AppData\Local\Temp/cc6hbaaa.s:4      *ABS*:0000003e __SP_H__
C:\Users\Tom\AppData\Local\Temp/cc6hbaaa.s:5      *ABS*:0000003d __SP_L__
C:\Users\Tom\AppData\Local\Temp/cc6hbaaa.s:6      *ABS*:00000000 __tmp_reg__
C:\Users\Tom\AppData\Local\Temp/cc6hbaaa.s:7      *ABS*:00000001 __zero_reg__
C:\Users\Tom\AppData\Local\Temp/cc6hbaaa.s:23     .bss:00000000 interuptEvent
C:\Users\Tom\AppData\Local\Temp/cc6hbaaa.s:29     .bss:00000001 turning
C:\Users\Tom\AppData\Local\Temp/cc6hbaaa.s:35     .bss:00000002 speed
C:\Users\Tom\AppData\Local\Temp/cc6hbaaa.s:41     .bss:00000004 drive_distance
C:\Users\Tom\AppData\Local\Temp/cc6hbaaa.s:47     .bss:00000006 turn_direction
C:\Users\Tom\AppData\Local\Temp/cc6hbaaa.s:53     .bss:00000008 turn_angle
C:\Users\Tom\AppData\Local\Temp/cc6hbaaa.s:59     .bss:0000000a command
C:\Users\Tom\AppData\Local\Temp/cc6hbaaa.s:65     .bss:0000000c angle
C:\Users\Tom\AppData\Local\Temp/cc6hbaaa.s:71     .bss:0000000e distance
C:\Users\Tom\AppData\Local\Temp/cc6hbaaa.s:77     .bss:00000010 sensors_index
C:\Users\Tom\AppData\Local\Temp/cc6hbaaa.s:83     .bss:00000011 sensors_flag
C:\Users\Tom\AppData\Local\Temp/cc6hbaaa.s:89     .bss:00000012 timer_on
C:\Users\Tom\AppData\Local\Temp/cc6hbaaa.s:95     .bss:00000013 timer_cnt
C:\Users\Tom\AppData\Local\Temp/cc6hbaaa.s:100    .text:00000000 Commands
C:\Users\Tom\AppData\Local\Temp/cc6hbaaa.s:204    .text:000000bc __vector_18
                            *COM*:00000034 sensors_in
C:\Users\Tom\AppData\Local\Temp/cc6hbaaa.s:256    .text:0000010c __vector_11
C:\Users\Tom\AppData\Local\Temp/cc6hbaaa.s:298    .text:0000014c ByteTx
C:\Users\Tom\AppData\Local\Temp/cc6hbaaa.s:319    .text:0000015c Stop
C:\Users\Tom\AppData\Local\Temp/cc6hbaaa.s:347    .text:0000017c DelayAndUpdateSensors
                            *COM*:00000034 sensors
C:\Users\Tom\AppData\Local\Temp/cc6hbaaa.s:433    .text:0000021a DelayMs
C:\Users\Tom\AppData\Local\Temp/cc6hbaaa.s:458    .text:00000234 PowerOnRobot
C:\Users\Tom\AppData\Local\Temp/cc6hbaaa.s:501    .text:00000260 Baud
C:\Users\Tom\AppData\Local\Temp/cc6hbaaa.s:647    .text:00000316 Initialise
C:\Users\Tom\AppData\Local\Temp/cc6hbaaa.s:727    .text:00000388 Drive_Wheels
C:\Users\Tom\AppData\Local\Temp/cc6hbaaa.s:771    .text:000003c8 FinishedCommand
C:\Users\Tom\AppData\Local\Temp/cc6hbaaa.s:814    .text:00000418 Drive
C:\Users\Tom\AppData\Local\Temp/cc6hbaaa.s:910    .text:000004c4 main

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
__stack
exit
